/*! caretta 2016-10-19 */

"use strict";var Caretta;Caretta=Caretta||{},Caretta.Helpers=function(){var a=function(a,b){for(;(a=a.parentElement)&&!a.classList.contains(b););return a};return{findAncestor:a}}();var Caretta;Caretta=Caretta||{},Caretta.Accordions=function(){var a=function(){var a,b=this.parentNode.className,c=this.parentNode.parentNode.getElementsByClassName("accordionItem");if(0===this.parentNode.parentNode.getElementsByClassName("open").length?this.parentNode.parentNode.className="accordionWrapper oneVisible":this.parentNode.parentNode.className="accordionWrapper oneVisible showHeadings","accordionItem open"===b)this.parentNode.className="accordionItem";else{for(a=0;a<c.length;a++)c[a].className="accordionItem";this.parentNode.className="accordionItem open"}},b=function(){var b,c,d,e=document.getElementsByClassName("accordionWrapper");for(b=0;b<e.length;b++)for(d=e[b].getElementsByClassName("accordionItemHeading"),c=0;c<d.length;c++)d[c].addEventListener("click",a,!1)};return{initAccordions:b}}();var Caretta;Caretta=Caretta||{},Caretta.Modals=function(){var a=function(a){a.preventDefault();var b=a.target.getAttribute("data-modal"),c=document.createElement("DIV");c.id="body-overlay",document.body.appendChild(c),document.getElementById(b).classList.add("open")},b=function(a){a.preventDefault();var b=Caretta.Helpers.findAncestor(a.target,"modal"),c=document.getElementById("body-overlay");document.body.removeChild(c),b.classList.remove("open")},c=function(){for(var b=document.querySelectorAll('[data-toggle="modal"]'),c=0;c<b.length;c++)b[c].addEventListener("click",a)},d=function(){for(var a=document.querySelectorAll('[data-dismiss="modal"]'),c=0;c<a.length;c++)a[c].addEventListener("click",b)};return{initModals:c,initCloseModals:d}}();var Caretta;Caretta=Caretta||{},Caretta.Navigation=function(){var a=function(a){a.target.parentElement.classList.contains("open")?a.target.parentElement.classList.remove("open"):a.target.parentElement.classList.add("open")},b=function(){for(var b=document.getElementsByClassName("trigger-submenu"),c=0;c<b.length;c++)b[c].addEventListener("click",a)},c=function(a){var c=JSON.parse(a),d=document.getElementById("navigationList");c.forEach(function(a){var b=document.createElement("LI"),c=a.subItems;c?!function(){var d=document.createElement("UL");d.classList.add("sub-menu"),c.forEach(function(a){var b=document.createElement("LI");b.innerHTML='<a href="'+a.link+'"><i class="zmdi '+a.icon+'"></i>'+a.title+"</a>",d.appendChild(b)}),b.innerHTML='<a href="#" class="trigger-submenu"><i class="zmdi '+a.icon+'"></i>'+a.title+"</a>",b.classList.add("has-submenu"),b.appendChild(d)}():b.innerHTML='<a href="'+a.link+'"><i class="zmdi '+a.icon+'"></i>'+a.title+"</a>",d.appendChild(b)}),b()},d=function(){var a=new XMLHttpRequest;a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?c(a.response):console.error("getNavigation",a.response))},a.open("GET","http://localhost:8001/navigation",!0),a.send()};return{getNavigation:d}}();var Caretta;Caretta=Caretta||{},Caretta.Tabs=function(){var a=function(a){var b=void 0,c=void 0;for(a.preventDefault(),b=document.querySelectorAll(".active"),c=0;c<b.length;c++)b[c].className=b[c].className.replace("active","");a.target.parentElement.className+=" active",document.getElementById(a.target.href.split("#")[1]).className+=" active"},b=function(){var b;b=document.getElementById("nav-tab"),b.addEventListener("click",a,!1)};return{initTabs:b}}();var Caretta;Caretta=Caretta||{},Caretta.Forms=function(){var a=function(){for(var a=document.querySelectorAll('[data-toggle="colorpicker"]'),b=function(b){var c=new Picker({parent:a[b],orientation:"top"});a[b].onclick=function(){c.show()},c.on_done=function(c){var d=c.rgba().toString(),e=document.createElement("INPUT"),f=a[b].getAttribute("data-colorpickerId");e.type="text",e.className="colorpicker-input",e.value=d,null!==f&&(e.id=f),a[b].style.background=d,a[b].innerHTML=d,a[b].appendChild(e)}},c=0;c<a.length;c++)b(c)},b=function(){for(var a=document.querySelectorAll('[data-toggle="datepicker"]'),b=0;b<a.length;b++){var c=new Pikaday({field:a[b]});c.getDate()}};return{initColorPicker:a,initDatePicker:b}}();var Caretta;Caretta=Caretta||{},Caretta.Init=function(){Caretta.Tabs.initTabs(),Caretta.Accordions.initAccordions(),Caretta.Modals.initModals(),Caretta.Modals.initCloseModals(),Caretta.Dropdown.closeDropdowns(),Caretta.Dropdown.setupSimpleDropdowns(),Caretta.Navigation.getNavigation(),Caretta.Forms.initColorPicker(),Caretta.Forms.initDatePicker()},window.onload=Caretta.Init;
//# sourceMappingURL=scripts.min.js.map